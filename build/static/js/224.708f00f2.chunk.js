"use strict";(self.webpackChunkreactlearning=self.webpackChunkreactlearning||[]).push([[224],{4732:(e,s,t)=>{t.r(s),t.d(s,{default:()=>F});var o=t(624),n=t(3384),r=t(9060);const a={usersContainer:"users_usersContainer__-g5Ho",userInfo:"users_userInfo__rw+h4",userPhoto:"users_userPhoto__z9qYC",followToggle:"users_followToggle__kbNbS",usersDetails:"users_usersDetails__WU402",userName:"users_userName__Z5gDb",userStatus:"users_userStatus__P0Rw9",usersLocationDetails:"users_usersLocationDetails__Y2L8Y",userCountry:"users_userCountry__LLnyT"},l="Paginator_selectedPage__tU7mg",i="Paginator_page__SNTZ1",u="Paginator_paginator__6jQpR";var c=t(2496);const p=e=>{let{totalUsersCount:s,pageSize:t,currentPage:o,onPageChanged:n,portionSize:a=10}=e,p=Math.ceil(s/t),g=[];for(let r=1;r<=p;r++)g.push(r);let d=Math.ceil(p/a),[f,h]=(0,r.useState)(1),m=(f-1)*a+1,y=f*a;return(0,c.jsxs)("div",{className:u,children:[f>1&&(0,c.jsx)("button",{onClick:()=>h(f-1),children:"Prev"}),g.filter((e=>e>=m&&e<=y)).map((e=>(0,c.jsx)("span",{className:"".concat(o===e?l:""," ").concat(i),onClick:()=>n(e),children:e},e))),d>f&&(0,c.jsx)("button",{onClick:()=>h(f+1),children:"Next"})]})},g=t.p+"static/media/naruto.70c62e63f4e81f7a59a2.png";var d=t(12);const f=e=>{let{user:s,inProgress:t,unfollow:o,follow:n}=e;return(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:a.userInfo,children:[(0,c.jsx)(d.Af,{to:"/profile/"+s.id,children:(0,c.jsx)("img",{className:a.userPhoto,src:null!=s.photos.small?s.photos.small:g,alt:"user_photo"})}),(0,c.jsx)("div",{className:a.followToggle,children:s.followed?(0,c.jsx)("button",{disabled:t.some((e=>e===s.id)),onClick:()=>{o(s.id)},children:"Unfollow"}):(0,c.jsx)("button",{disabled:t.some((e=>e===s.id)),onClick:()=>{n(s.id)},children:"Follow"})})]}),(0,c.jsxs)("div",{className:a.usersData,children:[(0,c.jsxs)("div",{className:a.usersDetails,children:[(0,c.jsx)("h3",{className:a.userName,children:s.name}),(0,c.jsx)("span",{className:a.userStatus,children:s.status})]}),(0,c.jsxs)("div",{className:a.usersLocationDetails,children:[(0,c.jsx)("h4",{className:a.userCity,children:"user.location.city"}),(0,c.jsx)("span",{className:a.userCountry,children:"user.location.country"})]})]})]})},h=e=>{let{totalUsersCount:s,pageSize:t,currentPage:o,onPageChanged:n,users:r,inProgress:l,unfollow:i,follow:u}=e;return(0,c.jsxs)("div",{className:a.usersContainer,children:[(0,c.jsx)(p,{totalUsersCount:s,pageSize:t,currentPage:o,onPageChanged:n}),r.map((e=>(0,c.jsx)(f,{inProgress:l,follow:u,unfollow:i,user:e},e.id)))]})};var m=t(2444),y=t(5773),v=t(2520);t(7260);function P(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(s)}var j=e=>Array.isArray(e)?e:[e];function w(e){const s=Array.isArray(e[0])?e[0]:e;return function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const t=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(s,"[").concat(t,"]"))}}(s,"createSelector expects all input-selectors to be functions, but received the following types: "),s}Symbol(),Object.getPrototypeOf({});var C="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},_=0,x=1;function b(){return{s:_,v:void 0,o:null,p:null}}function S(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=b();const{resultEqualityCheck:o}=s;let n,r=0;function a(){let s=t;const{length:a}=arguments;for(let e=0,t=a;e<t;e++){const t=arguments[e];if("function"===typeof t||"object"===typeof t&&null!==t){let e=s.o;null===e&&(s.o=e=new WeakMap);const o=e.get(t);void 0===o?(s=b(),e.set(t,s)):s=o}else{let e=s.p;null===e&&(s.p=e=new Map);const o=e.get(t);void 0===o?(s=b(),e.set(t,s)):s=o}}const l=s;let i;if(s.s===x)i=s.v;else if(i=e.apply(null,arguments),r++,o){var u,c,p;const e=null!==(u=null===(c=n)||void 0===c||null===(p=c.deref)||void 0===p?void 0:p.call(c))&&void 0!==u?u:n;null!=e&&o(e,i)&&(i=e,0!==r&&r--);n="object"===typeof i&&null!==i||"function"===typeof i?new C(i):i}return l.s=x,l.v=i,i}return a.clearCache=()=>{t=b(),a.resetResultsCount()},a.resultsCount=()=>r,a.resetResultsCount=()=>{r=0},a}function z(e){for(var s=arguments.length,t=new Array(s>1?s-1:0),o=1;o<s;o++)t[o-1]=arguments[o];const n="function"===typeof e?{memoize:e,memoizeOptions:t}:e,r=function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];let o,r=0,a=0,l={},i=s.pop();"object"===typeof i&&(l=i,i=s.pop()),P(i,"createSelector expects an output function after the inputs, but received: [".concat(typeof i,"]"));const u={...n,...l},{memoize:c,memoizeOptions:p=[],argsMemoize:g=S,argsMemoizeOptions:d=[],devModeChecks:f={}}=u,h=j(p),m=j(d),y=w(s),v=c((function(){return r++,i.apply(null,arguments)}),...h);const C=g((function(){a++;const e=function(e,s){const t=[],{length:o}=e;for(let n=0;n<o;n++)t.push(e[n].apply(null,s));return t}(y,arguments);return o=v.apply(null,e),o}),...m);return Object.assign(C,{resultFunc:i,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:c,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var N=z(S),k=Object.assign((function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N;!function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(s)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const t=Object.keys(e),o=s(t.map((s=>e[s])),(function(){for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return s.reduce(((e,s,o)=>(e[t[o]]=s,e)),{})}));return o}),{withTypes:()=>k});const U=N((e=>e.usersPage.users),(e=>e.filter((e=>!0)))),A=e=>e.usersPage.pageSize,R=e=>e.usersPage.totalUsersCount,D=e=>e.usersPage.currentPage,T=e=>e.usersPage.isFetching,M=e=>e.usersPage.inProgress;class O extends r.Component{constructor(){super(...arguments),this.onPageChanged=e=>{this.props.setCurrentPage(e),this.props.getUsers(e,this.props.pageSize)}}componentDidMount(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}render(){return(0,c.jsxs)(c.Fragment,{children:[this.props.isFetching?(0,c.jsx)(m.c,{}):null,(0,c.jsx)(h,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,setIsProgress:this.props.setIsProgress,inProgress:this.props.inProgress})]})}}const F=(0,y.Jn)((0,o.Ul)((e=>({users:U(e),pageSize:A(e),totalUsersCount:R(e),currentPage:D(e),isFetching:T(e),inProgress:M(e)})),{follow:n.Se,unfollow:n.UV,setCurrentPage:n.g5,getUsers:n.IF}),v.K)(O)},2520:(e,s,t)=>{t.d(s,{K:()=>i});var o=t(9060),n=t(1560),r=t(624),a=t(2496);let l=e=>({isAuth:e.auth.isAuth});const i=e=>{class s extends o.Component{render(){return this.props.isAuth?(0,a.jsx)(e,{...this.props}):(0,a.jsx)(n.YX,{to:"/login/"})}}return(0,r.Ul)(l)(s)}}}]);
//# sourceMappingURL=224.708f00f2.chunk.js.map