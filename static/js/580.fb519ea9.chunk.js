"use strict";(self.webpackChunkreactlearning=self.webpackChunkreactlearning||[]).push([[580],{1580:(s,t,e)=>{e.r(t),e.d(t,{default:()=>y});var a=e(9060);const r="ProfileInfo_descriptionBlock__iDhYM";var i=e(2444),o=e(2496);const l=s=>{let[t,e]=(0,a.useState)(!1),[r,i]=(0,a.useState)(s.status);(0,a.useEffect)((()=>{i(s.status)}),[s.status]);return(0,o.jsxs)("div",{children:[!t&&(0,o.jsx)("div",{children:(0,o.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"------------"})}),t&&(0,o.jsx)("div",{children:(0,o.jsx)("input",{onChange:s=>{i(s.currentTarget.value)},onBlur:()=>{e(!1),s.updateStatus(r)},autoFocus:!0,value:r})})]})},u=s=>s.profile?(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{}),(0,o.jsxs)("div",{className:r,children:[(0,o.jsx)("img",{src:s.profile.photos.large,alt:""}),(0,o.jsx)(l,{status:s.status,updateStatus:s.updateStatus}),(0,o.jsx)("p",{children:s.profile.fullName}),(0,o.jsx)("p",{children:s.profile.aboutMe})]})]}):(0,o.jsx)(i.c,{});var n=e(5212);const p="Post_item__t0JQK",d=s=>(0,o.jsxs)("div",{className:p,children:[(0,o.jsx)("img",{src:"https://surl.li/qxzyg",alt:""}),s.message,(0,o.jsxs)("div",{children:[(0,o.jsx)("span",{children:"Like"})," ",s.likeCount]})]}),c="MyPosts_postsBlock__+I5kY",h="MyPosts_title__TUvSG",x="MyPosts_posts__bIusa",j="MyPosts_textarea__tsgpv";var m=e(9256),f=e(9464),v=e(6112),g=e(6548);const _=(0,v.w)(10);let P=s=>(0,o.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,o.jsx)("div",{children:(0,o.jsx)(m.c,{component:g.Aj,className:j,name:"newPostText",validate:[v.a,_],placeholder:"Post message"})}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{children:"Add post"})})]});P=(0,f.c)({form:"ProfileForm"})(P);const S=a.memo((s=>{let t=s.posts.map((s=>(0,o.jsx)(d,{id:s.id,message:s.message,likeCount:s.likeCount},s.id)));return(0,o.jsxs)("div",{className:c,children:[(0,o.jsx)("h3",{className:h,children:"My posts"}),(0,o.jsx)(P,{onSubmit:t=>{s.addPost(t.newPostText)}}),(0,o.jsx)("div",{className:x,children:t})]})}));var k=e(624);const b=(0,k.Ul)((s=>({posts:s.profilePage.posts})),{addPost:n.a4})(S),C=s=>{let{profile:t,status:e,updateStatus:a}=s;return t?(0,o.jsxs)("div",{children:[(0,o.jsx)(u,{profile:t,status:e,updateStatus:a}),(0,o.jsx)(b,{})]}):(0,o.jsx)(i.c,{})};var M=e(1560),U=e(5773),A=e(2520);class N extends a.Component{componentDidMount(){let s=this.props.params.userId;s||(s=this.props.authorizedUserId),this.props.setUserProfile(s),this.props.getStatus(s)}render(){return(0,o.jsx)(C,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}const y=(0,U.Jn)((0,k.Ul)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth})),{setUserProfile:n.KO,getStatus:n.g3,updateStatus:n.u6}),(s=>t=>{const e=(0,M.W4)();return(0,o.jsx)(s,{...t,params:e})}),A.K)(N)},2520:(s,t,e)=>{e.d(t,{K:()=>u});var a=e(9060),r=e(1560),i=e(624),o=e(2496);let l=s=>({isAuth:s.auth.isAuth});const u=s=>{class t extends a.Component{render(){return this.props.isAuth?(0,o.jsx)(s,{...this.props}):(0,o.jsx)(r.YX,{to:"/login/"})}}return(0,i.Ul)(l)(t)}}}]);
//# sourceMappingURL=580.fb519ea9.chunk.js.map